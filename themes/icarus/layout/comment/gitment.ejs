<% if (typeof(script) !== 'undefined' && script) { %>
	<link rel="stylesheet" href="/css/gitment.css">
	<script src="/js/gitment.js"></script>
	<script>
		var myTheme = {
			render(state, instance) {
				const container = document.createElement('div')
				container.lang = "en-US"
				container.className = 'gitment-container gitment-root-container'
				container.appendChild(instance.renderHeader(state, instance))
				container.appendChild(instance.renderEditor(state, instance))
				container.appendChild(instance.renderComments(state, instance))
				container.appendChild(instance.renderFooter(state, instance))
				return container
			},
		}
		var gitment = new Gitment({
			id: window.location.pathname.replace(/(\/$)/g, ''),
			owner: '<%= theme.comment.gitment.owner %>',
			repo: '<%= theme.comment.gitment.repo %>',
			oauth: {
				client_id: '<%= theme.comment.gitment.client_id %>',
				client_secret: '<%= theme.comment.gitment.client_secret %>',
			},
			theme: myTheme,
		})
		gitment.render('commentContainer')
	</script>
	<% } else { %>
	<div id="commentContainer"></div>
<% } %>